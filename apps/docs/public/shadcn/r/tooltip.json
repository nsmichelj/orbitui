{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "tooltip",
  "files": [
    {
      "path": "../src/components/ui/tooltip/index.ts",
      "content": "import Tooltip from \"./Tooltip.astro\";\r\nimport TooltipContent from \"./TooltipContent.astro\";\r\nimport { tooltipArrowVariants, tooltipVariants } from \"./tooltipVariants\";\r\n\r\nexport { Tooltip, tooltipArrowVariants, TooltipContent, tooltipVariants };\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/tooltip/Tooltip.astro",
      "content": "---\r\ninterface Props {\r\n  disableHoverableContent?: boolean;\r\n  openDelay?: number;\r\n  closeDelay?: number;\r\n  duration?: number;\r\n}\r\n\r\nconst {\r\n  openDelay = 150,\r\n  closeDelay = 150,\r\n  duration = 200,\r\n  disableHoverableContent = false,\r\n} = Astro.props;\r\n---\r\n\r\n<div\r\n  class=\"relative inline-flex\"\r\n  data-tooltip\r\n  data-open-delay={openDelay}\r\n  data-close-delay={closeDelay}\r\n  data-duration={duration}\r\n  data-disable-hoverable-content={disableHoverableContent}\r\n>\r\n  <slot />\r\n</div>\r\n\r\n<script>\r\n  import { Tooltip } from \"./tooltip\";\r\n\r\n  function init() {\r\n    const tooltips = document.querySelectorAll<HTMLElement>(\"[data-tooltip]\");\r\n    tooltips.forEach((tooltip) => {\r\n      new Tooltip(tooltip);\r\n    });\r\n  }\r\n\r\n  init();\r\n  document.addEventListener(\"astro:page-load\", () => init());\r\n</script>\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/tooltip/tooltip.ts",
      "content": "export class Tooltip {\r\n  // References to tooltip elements\r\n  private tooltip: HTMLElement;\r\n  private trigger: HTMLElement | null;\r\n  private content: HTMLElement | null;\r\n\r\n  // Tooltip configuration options\r\n  private duration: number;\r\n  private openDelay: number;\r\n  private closeDelay: number;\r\n\r\n  // Timers for managing tooltip open/close/hide delays\r\n  private openTimerId: number | null = null;\r\n  private closeTimerId: number | null = null;\r\n  private hideTimerId: number | null = null;\r\n\r\n  constructor(tooltip: HTMLElement) {\r\n    this.tooltip = tooltip;\r\n    this.content = this.tooltip.querySelector(\"[data-tooltip-content]\");\r\n    this.trigger = this.tooltip.querySelector(\"[data-trigger]\");\r\n\r\n    this.duration = parseFloat(tooltip.dataset.duration || \"200\");\r\n    this.openDelay = parseFloat(tooltip.dataset.openDelay || \"0\");\r\n    this.closeDelay = parseFloat(tooltip.dataset.closeDelay || \"0\");\r\n\r\n    if (!this.tooltip || !this.content || !this.trigger) {\r\n      console.error(\"Tooltip not initialized properly\", {\r\n        container: this.tooltip,\r\n        trigger: this.trigger,\r\n        content: this.content,\r\n      });\r\n      return;\r\n    }\r\n\r\n    // If you want to use animations instead of transitions\r\n    // set animation duration instead of transition duration.\r\n    this.content.style.transitionDuration = `${this.duration}ms`;\r\n\r\n    this.init();\r\n  }\r\n\r\n  private init() {\r\n    this.setupAccessibility();\r\n    this.setupEventListeners();\r\n  }\r\n\r\n  private setupAccessibility() {\r\n    if (!this.trigger || !this.content) return;\r\n\r\n    const id =\r\n      this.content.id ||\r\n      `tooltip-id-${Math.random().toString(36).substring(2, 9)}`;\r\n    this.content.id = id;\r\n    this.trigger.setAttribute(\"aria-describedby\", id);\r\n    this.setState(\"closed\");\r\n  }\r\n\r\n  private setupEventListeners() {\r\n    if (!this.trigger || !this.content) return;\r\n\r\n    this.trigger!.addEventListener(\"mouseenter\", () => this.showTooltip());\r\n    this.trigger!.addEventListener(\"mouseleave\", () => this.hideTooltip());\r\n    this.trigger.addEventListener(\"focus\", () => this.showTooltip(true));\r\n    this.trigger.addEventListener(\"blur\", () => this.hideTooltip(true));\r\n\r\n    if (this.tooltip.dataset.disableHoverableContent === \"false\") {\r\n      this.content.addEventListener(\"mouseenter\", () => this.showTooltip());\r\n      this.content.addEventListener(\"mouseleave\", () => this.hideTooltip());\r\n    }\r\n\r\n    document.addEventListener(\"keydown\", (e) => this.handleKeyDown(e));\r\n  }\r\n\r\n  private showTooltip(instant: boolean = false) {\r\n    this.clearCloseTimer();\r\n    this.content?.classList.remove(\"hidden\");\r\n\r\n    if (instant) {\r\n      this.setState(\"open\");\r\n      return;\r\n    }\r\n\r\n    this.openTimerId = window.setTimeout(() => {\r\n      this.setState(\"open\");\r\n      this.openTimerId = null;\r\n    }, this.openDelay);\r\n  }\r\n\r\n  private hideTooltip(instant: boolean = false) {\r\n    this.clearOpenTimer();\r\n\r\n    if (instant) {\r\n      this.setState(\"closed\");\r\n      this.content?.classList.add(\"hidden\");\r\n      return;\r\n    }\r\n\r\n    this.closeTimerId = window.setTimeout(() => {\r\n      this.setState(\"closed\");\r\n      this.hideTimerId = window.setTimeout(() => {\r\n        this.content?.classList.add(\"hidden\");\r\n        this.closeTimerId = null;\r\n        this.hideTimerId = null;\r\n      }, this.duration);\r\n    }, this.closeDelay);\r\n  }\r\n\r\n  private setState(state: \"open\" | \"closed\") {\r\n    this.content?.setAttribute(\"aria-hidden\", `${state === \"closed\"}`);\r\n    this.content?.setAttribute(\"data-state\", state);\r\n  }\r\n\r\n  private clearOpenTimer() {\r\n    if (this.openTimerId) {\r\n      window.clearTimeout(this.openTimerId);\r\n      this.openTimerId = null;\r\n    }\r\n  }\r\n\r\n  private clearCloseTimer() {\r\n    if (this.closeTimerId) {\r\n      window.clearTimeout(this.closeTimerId);\r\n      this.closeTimerId = null;\r\n    }\r\n    if (this.hideTimerId) {\r\n      window.clearTimeout(this.hideTimerId);\r\n      this.hideTimerId = null;\r\n    }\r\n  }\r\n\r\n  private handleKeyDown = (event: KeyboardEvent) => {\r\n    if (event.key === \"Escape\" && this.content!.dataset.status === \"open\") {\r\n      this.hideTooltip(true);\r\n      event.preventDefault();\r\n    }\r\n  };\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/tooltip/TooltipContent.astro",
      "content": "---\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { HTMLAttributes } from \"astro/types\";\r\nimport type { VariantProps } from \"class-variance-authority\";\r\nimport { tooltipArrowVariants, tooltipVariants } from \"./tooltipVariants\";\r\n\r\ninterface Props\r\n  extends HTMLAttributes<\"div\">,\r\n    VariantProps<typeof tooltipVariants> {\r\n  sideOffset?: number;\r\n  arrow?: boolean;\r\n}\r\n\r\nconst {\r\n  class: className,\r\n  side,\r\n  alignment,\r\n  sideOffset = 2,\r\n  arrow = true,\r\n  ...attrs\r\n} = Astro.props;\r\n---\r\n\r\n<div\r\n  {...attrs}\r\n  role=\"tooltip\"\r\n  data-tooltip-content\r\n  aria-hidden=\"false\"\r\n  data-state=\"closed\"\r\n  data-side={sideOffset}\r\n  data-alignment={alignment}\r\n  class={cn(tooltipVariants({ side, alignment, className }))}\r\n  style={{\r\n    \"--tooltip-offset\": `calc(var(--spacing) * ${sideOffset})`,\r\n  }}\r\n>\r\n  <slot />\r\n  {arrow && <span class={cn(tooltipArrowVariants({ side, alignment }))} />}\r\n</div>\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/tooltip/tooltipVariants.ts",
      "content": "import { cva } from \"class-variance-authority\";\r\n\r\nconst baseClass = [\r\n  \"hidden absolute z-50 px-3 py-1.5 whitespace-nowrap bg-foreground text-background rounded-md text-sm backdrop-blur-sm max-w-xs\",\r\n  \"transform transition-all ease-in data-[state=closed]:opacity-0 data-[state=closed]:scale-95 data[state=open]:opacity-100 data[state=open]:scale-100\",\r\n];\r\n\r\nconst tooltipVariants = cva(baseClass, {\r\n  variants: {\r\n    side: {\r\n      top: \"bottom-full mb-(--tooltip-offset)\",\r\n      bottom: \"top-full mt-(--tooltip-offset)\",\r\n      left: \"right-full mr-(--tooltip-offset)\",\r\n      right: \"left-full ml-(--tooltip-offset)\",\r\n    },\r\n    alignment: {\r\n      start: \"\",\r\n      center: \"\",\r\n      end: \"\",\r\n    },\r\n  },\r\n  compoundVariants: [\r\n    {\r\n      side: [\"top\", \"bottom\"],\r\n      alignment: \"start\",\r\n      class: \"left-0\",\r\n    },\r\n    {\r\n      side: [\"top\", \"bottom\"],\r\n      alignment: \"end\",\r\n      class: \"left-full -translate-x-full\",\r\n    },\r\n    {\r\n      side: [\"top\", \"bottom\"],\r\n      alignment: \"center\",\r\n      class: \"left-1/2 -translate-x-1/2\",\r\n    },\r\n    {\r\n      side: [\"left\", \"right\"],\r\n      alignment: \"start\",\r\n      class: \"top-0 -translate-y-0\",\r\n    },\r\n    {\r\n      side: [\"left\", \"right\"],\r\n      alignment: \"center\",\r\n      class: \"top-1/2 -translate-y-1/2\",\r\n    },\r\n    {\r\n      side: [\"left\", \"right\"],\r\n      alignment: \"end\",\r\n      class: \"top-full -translate-y-full\",\r\n    },\r\n  ],\r\n  defaultVariants: {\r\n    side: \"top\",\r\n    alignment: \"center\",\r\n  },\r\n});\r\n\r\nconst arrowClass =\r\n  \"absolute w-0 h-0 transition-all transform ease-in size-2 bg-foreground transform rotate-45\";\r\n\r\nconst tooltipArrowVariants = cva(arrowClass, {\r\n  variants: {\r\n    side: {\r\n      top: \"top-full -mt-1 \",\r\n      bottom: \"bottom-full -mb-1\",\r\n      left: \"left-full -ml-1\",\r\n      right: \"right-full -mr-1\",\r\n    },\r\n    alignment: {\r\n      start: \"\",\r\n      center: \"\",\r\n      end: \"\",\r\n    },\r\n  },\r\n  compoundVariants: [\r\n    {\r\n      side: [\"top\", \"bottom\"],\r\n      alignment: \"start\",\r\n      class: \"left-0 ml-3 \",\r\n    },\r\n    {\r\n      side: [\"top\", \"bottom\"],\r\n      alignment: \"end\",\r\n      class: \"right-0 mr-3\",\r\n    },\r\n    {\r\n      side: [\"top\", \"bottom\"],\r\n      alignment: \"center\",\r\n      class: \"left-1/2 -translate-x-1/2\",\r\n    },\r\n    {\r\n      side: [\"left\", \"right\"],\r\n      alignment: \"start\",\r\n      class: \"top-0 mt-3\",\r\n    },\r\n    {\r\n      side: [\"left\", \"right\"],\r\n      alignment: \"center\",\r\n      class: \"top-1/2 -translate-y-1/2\",\r\n    },\r\n    {\r\n      side: [\"left\", \"right\"],\r\n      alignment: \"end\",\r\n      class: \"bottom-0 mb-3\",\r\n    },\r\n  ],\r\n  defaultVariants: {\r\n    side: \"top\",\r\n    alignment: \"center\",\r\n  },\r\n});\r\n\r\nexport { tooltipArrowVariants, tooltipVariants };\r\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}
