{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "toast",
  "files": [
    {
      "path": "../src/components/ui/toast/assets.ts",
      "content": "export const toastIcons: Record<string, string> = {\r\n  success: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z\" /></svg>`,\r\n  error: `<svg  xmlns=\"http://www.w3.org/2000/svg\"  width=\"20\"  height=\"20\"  viewBox=\"0 0 24 24\"  fill=\"currentColor\"  class=\"icon icon-tabler icons-tabler-filled icon-tabler-alert-circle\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 2c5.523 0 10 4.477 10 10a10 10 0 0 1 -19.995 .324l-.005 -.324l.004 -.28c.148 -5.393 4.566 -9.72 9.996 -9.72zm.01 13l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm-.01 -8a1 1 0 0 0 -.993 .883l-.007 .117v4l.007 .117a1 1 0 0 0 1.986 0l.007 -.117v-4l-.007 -.117a1 1 0 0 0 -.993 -.883z\" /></svg>`,\r\n  warning: `<svg  xmlns=\"http://www.w3.org/2000/svg\"  width=\"20\"  height=\"20\"  viewBox=\"0 0 24 24\"  fill=\"currentColor\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 1.67c.955 0 1.845 .467 2.39 1.247l.105 .16l8.114 13.548a2.914 2.914 0 0 1 -2.307 4.363l-.195 .008h-16.225a2.914 2.914 0 0 1 -2.582 -4.2l.099 -.185l8.11 -13.538a2.914 2.914 0 0 1 2.491 -1.403zm.01 13.33l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007zm-.01 -7a1 1 0 0 0 -.993 .883l-.007 .117v4l.007 .117a1 1 0 0 0 1.986 0l.007 -.117v-4l-.007 -.117a1 1 0 0 0 -.993 -.883z\" /></svg>`,\r\n  info: `<svg  xmlns=\"http://www.w3.org/2000/svg\"  width=\"20\"  height=\"20\"  viewBox=\"0 0 24 24\"  fill=\"currentColor\"><path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M12 2c5.523 0 10 4.477 10 10a10 10 0 0 1 -19.995 .324l-.005 -.324l.004 -.28c.148 -5.393 4.566 -9.72 9.996 -9.72zm0 9h-1l-.117 .007a1 1 0 0 0 0 1.986l.117 .007v3l.007 .117a1 1 0 0 0 .876 .876l.117 .007h1l.117 -.007a1 1 0 0 0 .876 -.876l.007 -.117l-.007 -.117a1 1 0 0 0 -.764 -.857l-.112 -.02l-.117 -.006v-3l-.007 -.117a1 1 0 0 0 -.876 -.876l-.117 -.007zm.01 -3l-.127 .007a1 1 0 0 0 0 1.986l.117 .007l.127 -.007a1 1 0 0 0 0 -1.986l-.117 -.007z\" /></svg>`,\r\n};\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/toast/index.ts",
      "content": "import { toastIcons } from \"./assets\";\r\nimport type {\r\n  ToastDomElements,\r\n  ToastOptions,\r\n  ToastPosition,\r\n  ToastType,\r\n} from \"./toast\";\r\nimport { Toast as ToastHandler } from \"./toast\";\r\nimport Toast from \"./Toast.astro\";\r\nimport ToastDescription from \"./ToastDescription.astro\";\r\nimport ToastTitle from \"./ToastTitle.astro\";\r\n\r\nexport { Toast, ToastDescription, ToastHandler, toastIcons, ToastTitle };\r\nexport type { ToastDomElements, ToastOptions, ToastPosition, ToastType };\r\n\r\nexport const toast = Object.assign(\r\n  (opts: ToastOptions) => new ToastHandler(opts),\r\n  {\r\n    success: (opts: Omit<ToastOptions, \"type\">) =>\r\n      new ToastHandler({ ...opts, type: \"success\" }),\r\n    error: (opts: Omit<ToastOptions, \"type\">) =>\r\n      new ToastHandler({ ...opts, type: \"error\" }),\r\n    warning: (opts: Omit<ToastOptions, \"type\">) =>\r\n      new ToastHandler({ ...opts, type: \"warning\" }),\r\n    info: (opts: Omit<ToastOptions, \"type\">) =>\r\n      new ToastHandler({ ...opts, type: \"info\" }),\r\n    default: (opts: Omit<ToastOptions, \"type\">) =>\r\n      new ToastHandler({ ...opts, type: \"default\" }),\r\n  },\r\n);\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/toast/Toast.astro",
      "content": "---\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { HTMLAttributes } from \"astro/types\";\r\n\r\ninterface Props extends HTMLAttributes<\"div\"> {}\r\n\r\nconst { class: className, ...attrs } = Astro.props;\r\n---\r\n\r\n<div\r\n  data-toast\r\n  class={cn(\r\n    \"fixed z-[1000] p-4 bg-background text-foreground border border-border rounded-lg shadow-lg flex flex-row items-start gap-2 overflow-hidden opacity-0 duration-500 transition-all ease-in-out min-w-xs max-w-md data-[state=showing]:opacity-100 data-[state=hide]:pointer-events-none \",\r\n    className,\r\n  )}\r\n  {...attrs}\r\n>\r\n  <slot />\r\n</div>\r\n\r\n<style>\r\n  @reference \"@/styles/global.css\";\r\n\r\n  [data-toast][data-toast-type=\"success\"] {\r\n    @apply border-green-500 bg-green-50 text-green-800;\r\n  }\r\n  [data-toast][data-toast-type=\"error\"] {\r\n    @apply border-red-500 bg-red-50 text-red-800;\r\n  }\r\n  [data-toast][data-toast-type=\"warning\"] {\r\n    @apply border-orange-400 bg-orange-50 text-orange-800;\r\n  }\r\n  [data-toast][data-toast-type=\"info\"] {\r\n    @apply border-blue-500 bg-blue-50 text-blue-800;\r\n  }\r\n</style>\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/toast/toast.ts",
      "content": "import { toastIcons } from \"./assets\";\r\n\r\nexport interface ToastDomElements {\r\n  title: HTMLElement | null;\r\n  description: HTMLElement | null;\r\n  dismissibleButton: HTMLElement | null;\r\n  iconContainer: HTMLElement | null;\r\n  closeButtons: NodeListOf<HTMLElement>;\r\n}\r\n\r\nexport type ToastPosition =\r\n  | \"top-right\"\r\n  | \"top-center\"\r\n  | \"top-left\"\r\n  | \"bottom-right\"\r\n  | \"bottom-center\"\r\n  | \"bottom-left\";\r\n\r\nexport type ToastType = \"default\" | \"success\" | \"error\" | \"warning\" | \"info\";\r\n\r\nexport interface ToastOptions {\r\n  title: string;\r\n  description?: string;\r\n  duration?: number;\r\n  dismissible?: boolean;\r\n  autoClose?: boolean;\r\n  type?: ToastType;\r\n  onClose?: () => void;\r\n}\r\n\r\nconst DEFAULT_DURATION = 3000;\r\nconst DEFAULT_MAX_VISIBLE_TOASTS = 3;\r\nconst DEFAULT_OFFSET = 24;\r\nconst DEFAULT_GAP = 16;\r\nconst DEFAULT_POSITION: ToastPosition = \"bottom-right\";\r\nconst DEFAULT_TOAST_TYPE: ToastType = \"default\";\r\n\r\nexport class Toast {\r\n  private static instances: HTMLElement[] = [];\r\n\r\n  private opts: ToastOptions;\r\n  private toaster: HTMLElement | null;\r\n  private toast: HTMLElement | null;\r\n  private elements: ToastDomElements;\r\n\r\n  private duration: number;\r\n  private startTime: number = 0;\r\n  private remainingTime: number = 0;\r\n  private timeoutId: number | null = null;\r\n  private position: ToastPosition;\r\n  private dismissible: boolean;\r\n  private autoClose: boolean;\r\n\r\n  private maxVisibleToasts: number;\r\n  private offset: number;\r\n  private gap: number;\r\n\r\n  constructor(opts: ToastOptions) {\r\n    this.opts = opts;\r\n\r\n    this.toaster = document.querySelector(\"[data-toaster]\");\r\n    if (!this.toaster) {\r\n      throw new Error(\r\n        \"Toaster container with 'data-toaster' attribute not found in the document.\",\r\n      );\r\n    }\r\n\r\n    this.toast = this.getTemplate().querySelector(\r\n      \"[data-toast]\",\r\n    ) as HTMLElement;\r\n    if (!this.toast) {\r\n      throw new Error(\"Toast element with 'data-toast' not found in template.\");\r\n    }\r\n\r\n    this.elements = {\r\n      title: this.toast.querySelector(\"[data-toast-title]\"),\r\n      description: this.toast.querySelector(\"[data-toast-description]\"),\r\n      iconContainer: this.toast.querySelector(\"[data-toast-icon]\"),\r\n      closeButtons: this.toast.querySelectorAll(\"[data-close]\") ?? [],\r\n      dismissibleButton: this.toast.querySelector(\"[data-dismissible-button]\"),\r\n    };\r\n\r\n    this.gap = parseInt(this.toaster.dataset.gap ?? `${DEFAULT_GAP}`, 10);\r\n    this.maxVisibleToasts = parseInt(\r\n      this.toaster.dataset.visibleToasts ?? `${DEFAULT_MAX_VISIBLE_TOASTS}`,\r\n      10,\r\n    );\r\n    this.offset = parseInt(\r\n      this.toaster.dataset.offset ?? `${DEFAULT_OFFSET}`,\r\n      10,\r\n    );\r\n    this.position =\r\n      (this.toaster?.dataset.position as typeof this.position) ??\r\n      DEFAULT_POSITION;\r\n    this.duration =\r\n      this.opts.duration ??\r\n      parseInt(this.toaster.dataset.duration ?? `${DEFAULT_DURATION}`);\r\n    this.dismissible =\r\n      this.opts.dismissible ?? this.toaster.dataset.dismissible === \"true\";\r\n    this.autoClose =\r\n      this.opts.autoClose ?? this.toaster.dataset.autoClose === \"true\";\r\n\r\n    this.init();\r\n  }\r\n\r\n  private init() {\r\n    this.initializeToastContent();\r\n    this.calculateInitialPosition();\r\n    this.setupAccessibility();\r\n    this.setupEventListeners();\r\n    this.showToast();\r\n  }\r\n\r\n  private setupAccessibility() {\r\n    if (this.toast) {\r\n      this.toast.setAttribute(\"role\", \"alert\");\r\n      this.toast.setAttribute(\"aria-live\", \"assertive\");\r\n      this.toast.setAttribute(\"aria-atomic\", \"true\");\r\n    }\r\n  }\r\n\r\n  private initializeToastContent() {\r\n    this.toast!.setAttribute(\r\n      \"data-toast-type\",\r\n      this.opts.type ?? DEFAULT_TOAST_TYPE,\r\n    );\r\n\r\n    if (this.elements.iconContainer) {\r\n      const iconType = toastIcons[this.opts.type ?? DEFAULT_TOAST_TYPE];\r\n      if (iconType) {\r\n        this.elements.iconContainer.innerHTML = iconType;\r\n      } else {\r\n        this.elements.iconContainer.remove();\r\n        this.elements.iconContainer = null;\r\n      }\r\n    }\r\n\r\n    if (this.elements.title) {\r\n      this.elements.title.textContent = this.opts.title;\r\n    } else {\r\n      console.warn(\r\n        \"Toast title element not found. Title might not be displayed.\",\r\n      );\r\n    }\r\n\r\n    if (this.opts.description && this.elements.description) {\r\n      this.elements.description.textContent = this.opts.description;\r\n    } else if (this.elements.description) {\r\n      this.elements.description.remove();\r\n      this.elements.description = null;\r\n    }\r\n\r\n    if (!this.dismissible && this.elements.dismissibleButton) {\r\n      this.elements.dismissibleButton.remove();\r\n      this.elements.dismissibleButton = null;\r\n    }\r\n  }\r\n\r\n  private setupEventListeners() {\r\n    this.elements.closeButtons.forEach((trigger) => {\r\n      trigger.addEventListener(\"click\", () => this.removeToast());\r\n    });\r\n    this.toaster!.addEventListener(\"mouseenter\", () => this.handleMouseEnter());\r\n    this.toaster!.addEventListener(\"mouseleave\", () => this.handleMouseLeave());\r\n  }\r\n\r\n  private showToast() {\r\n    this.toaster?.insertAdjacentElement(\"afterbegin\", this.toast!);\r\n    Toast.instances.unshift(this.toast!);\r\n    this.adjustToastPositions();\r\n    this.setState(this.toast!, \"showing\");\r\n\r\n    if (this.autoClose) {\r\n      this.startTime = Date.now();\r\n      this.remainingTime = this.duration;\r\n      this.timeoutId = window.setInterval(() => {\r\n        this.removeToast();\r\n        this.opts.onClose?.();\r\n      }, this.duration);\r\n    }\r\n  }\r\n\r\n  private removeToast() {\r\n    this.setState(this.toast!, \"hide\");\r\n    const index = Toast.instances.indexOf(this.toast!);\r\n    if (index !== -1) {\r\n      Toast.instances.splice(index, 1);\r\n    }\r\n    this.adjustToastPositions();\r\n\r\n    setTimeout(() => {\r\n      this.toast?.remove();\r\n      this.opts.onClose?.();\r\n    }, 500);\r\n  }\r\n\r\n  private adjustToastPositions() {\r\n    const isButtom = this.position.startsWith(\"bottom\");\r\n    let accumulatedHeight = this.offset;\r\n\r\n    Toast.instances.forEach((currentToast, index) => {\r\n      accumulatedHeight += currentToast.offsetHeight;\r\n      const verticalOffset = accumulatedHeight + index * this.gap;\r\n\r\n      const sign = isButtom ? -1 : 1;\r\n      const translateYValue =\r\n        sign * (verticalOffset - currentToast.offsetHeight);\r\n\r\n      let translateXValue = \"\";\r\n      if (this.position.endsWith(\"center\")) {\r\n        translateXValue = \"translateX(-50%)\";\r\n      }\r\n\r\n      currentToast.style.transform = `${translateXValue} translateY(${translateYValue}px)`;\r\n\r\n      this.setState(\r\n        currentToast,\r\n        index < this.maxVisibleToasts ? \"showing\" : \"hide\",\r\n      );\r\n    });\r\n  }\r\n\r\n  private handleMouseEnter() {\r\n    if (!this.autoClose) return;\r\n    if (this.timeoutId) {\r\n      clearTimeout(this.timeoutId);\r\n      const elapsedTime = Date.now() - this.startTime;\r\n      this.remainingTime = Math.max(0, this.remainingTime - elapsedTime);\r\n      this.timeoutId = null;\r\n    }\r\n  }\r\n\r\n  private handleMouseLeave() {\r\n    if (!this.autoClose) return;\r\n    if (this.remainingTime > 0) {\r\n      this.startTime = Date.now();\r\n      this.timeoutId = window.setTimeout(\r\n        () => this.removeToast(),\r\n        this.remainingTime,\r\n      );\r\n    } else {\r\n      this.removeToast();\r\n    }\r\n  }\r\n\r\n  private calculateInitialPosition() {\r\n    const [y, x] = this.position.split(\"-\");\r\n\r\n    if (y === \"top\") {\r\n      this.toast!.style.top = `0px`;\r\n    } else {\r\n      this.toast!.style.bottom = `0px`;\r\n    }\r\n\r\n    if (x === \"left\") {\r\n      this.toast!.style.left = `${this.offset}px`;\r\n    } else if (x === \"center\") {\r\n      this.toast!.style.left = \"50%\";\r\n      this.toast!.style.transform = \"translateX(-50%)\";\r\n    } else {\r\n      this.toast!.style.right = `${this.offset}px`;\r\n    }\r\n  }\r\n\r\n  private setState(toast: HTMLElement, state: \"showing\" | \"hide\") {\r\n    toast.setAttribute(\"data-state\", state);\r\n  }\r\n\r\n  private getTemplate() {\r\n    const toastTemplate =\r\n      this.toaster?.querySelector<HTMLTemplateElement>(\"#toast-template\");\r\n    if (!toastTemplate) {\r\n      throw new Error(\"Toast template not found in the document.\");\r\n    }\r\n    return toastTemplate.content.cloneNode(true) as DocumentFragment;\r\n  }\r\n}\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/toast/ToastDescription.astro",
      "content": "---\r\nimport { cn } from \"@/lib/utils\";\r\nimport { type HTMLAttributes } from \"astro/types\";\r\n\r\ninterface Props extends HTMLAttributes<\"p\"> {}\r\n\r\nconst { class: className, ...attrs } = Astro.props;\r\n---\r\n\r\n<p data-toast-description class={cn(\"text-sm\", className)} {...attrs}></p>\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/toast/Toaster.astro",
      "content": "---\r\nimport Toast from \"./Toast.astro\";\r\nimport ToastDescription from \"./ToastDescription.astro\";\r\nimport ToastTitle from \"./ToastTitle.astro\";\r\n\r\ninterface Props {\r\n  offset?: number;\r\n  gap?: number;\r\n  position?:\r\n    | \"top-right\"\r\n    | \"top-center\"\r\n    | \"top-left\"\r\n    | \"bottom-right\"\r\n    | \"bottom-center\"\r\n    | \"bottom-left\";\r\n  visibleToasts?: number;\r\n  dismissible?: boolean;\r\n  autoClose?: boolean;\r\n}\r\n\r\nconst {\r\n  offset = 24,\r\n  gap = 16,\r\n  position = \"bottom-right\",\r\n  visibleToasts = 3,\r\n  dismissible = true,\r\n  autoClose = true,\r\n} = Astro.props;\r\n---\r\n\r\n<section\r\n  tabindex=\"-1\"\r\n  data-toaster\r\n  data-position={position}\r\n  data-visible-toasts={visibleToasts}\r\n  data-offset={offset}\r\n  data-dismissible={dismissible}\r\n  data-position={position}\r\n  data-gap={gap}\r\n  data-auto-close={autoClose}\r\n>\r\n  <template id=\"toast-template\">\r\n    <slot>\r\n      <Toast>\r\n        <div data-toast-icon></div>\r\n\r\n        <div>\r\n          <ToastTitle />\r\n          <ToastDescription />\r\n        </div>\r\n\r\n        <button\r\n          class=\"absolute right-1 top-1 cursor-pointer rounded-lg p-1 transition-colors duration-150\"\r\n          aria-label=\"close toast\"\r\n          data-close\r\n          data-dismissible-button\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            viewBox=\"0 0 24 24\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            class=\"size-4\"\r\n          >\r\n            <>\r\n              <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\"></path>\r\n              <path d=\"M18 6l-12 12\"></path>\r\n              <path d=\"M6 6l12 12\"></path>\r\n            </>\r\n          </svg>\r\n        </button>\r\n      </Toast>\r\n    </slot>\r\n  </template>\r\n</section>\r\n",
      "type": "registry:ui"
    },
    {
      "path": "../src/components/ui/toast/ToastTitle.astro",
      "content": "---\r\nimport { cn } from \"@/lib/utils\";\r\nimport type { HTMLAttributes } from \"astro/types\";\r\n\r\ninterface Props extends HTMLAttributes<\"h5\"> {}\r\n\r\nconst { class: className, ...attrs } = Astro.props;\r\n---\r\n\r\n<h5\r\n  data-toast-title\r\n  class={cn(\r\n    \"font-medium flex items-center justify-start gap-2 text-sm\",\r\n    className,\r\n  )}\r\n  {...attrs}\r\n>\r\n</h5>\r\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}
